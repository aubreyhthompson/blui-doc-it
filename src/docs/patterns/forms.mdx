import { DemoCard, ImageGrid, MaterialDesignDescription } from '../../app/components';
import Image1 from '../../app/assets/design-patterns/form-validation/form-validation-interaction.png';
import Image2 from '../../app/assets/design-patterns/form-validation/form-validation-feedback.png';
import Image3 from '../../app/assets/design-patterns/form-validation/form-validation-variation.png';
import Image4 from '../../app/assets/design-patterns/form-validation/form-validation-password-entering.png';
import Image5 from '../../app/assets/design-patterns/form-validation/form-validation-password-error.png';
import Image6 from '../../app/assets/design-patterns/form-validation/form-validation-password-complete.png';
import OnBlurImage from '../../app/assets/design-patterns/form-validation/verify-input-on-blur.png';
import OnChangeImage from '../../app/assets/design-patterns/form-validation/verify-input-on-change.png';
import OnPageChangeImage from '../../app/assets/design-patterns/form-validation/verify-input-on-page-change.png';

# Form Validation Patterns

<ImageGrid images={[Image1, Image2, Image3]} />

Forms are an integral part of many applications, particularly during the user registration phase. One of the most important parts of working with forms is properly validating the information that users enter into them. In general, PX Blue follows the form behaviors explained in detail by the Material Design.

<MaterialDesignDescription title={'Text Fields'} url={'https://material.io/components/text-fields/'} />
<DemoCard repository={'form-validation'} angular react/>

## Optional vs. Required Fields

When using a mixture of optional and required fields in a form, the inputs should be labeled appropriately.

If most of the fields are required, you should call out the fields that are optional. These fields should be labeled with an appropriate descriptor, followed by "optional" in parentheses.

Conversely, if most of your fields are optional, you should only call out the required fields. These should be identified by an asterisk (\*) after the field label. There should be a descriptor nearby that indicates that a \* means the field is required.

## Form Field Requirements

<ImageGrid images={[Image4, Image5, Image6]} caption={'A common application of form validation -- reset password.'} />

If your form fields have complex requirements for valid values, you can list these criteria below the input. A common use case for this is when displaying password complexity requirements.

## Handling Errors

If there is an error with the data entered into a field, the field should indicate to the user that there is a problem. Label and helper text should be changed to a red color and a warning icon should appear in the text input. The error message should be displayed in the helper text location below the field (any existing helper text should be replaced with the error message).

Error messages should be succinct and should not provide information that could compromise security (e.g., "Invalid Credentials" instead of "Incorrect Password").

In general, there are two different types of input field verification: on blur, on change, on page change.

### Verify Input on Blur

In order to not "push" the user to much, most text field should remain "verify on blur". That is, in most of the time, you should only verify user input when they stop typing.

<ImageGrid
    images={[OnBlurImage]}
    gridImageProps={{ sm: 12 }}
    caption={[
        '1: Do not check for validity or display error messages when the user is typing the desired text.',
        '2: The user is finished and defocuses / “blurs away” from the input field. Now their input should be checked.',
    ]}
/>

### Verify Input on Change

When it comes to a password field, the validity check feedback should be displayed each time the user makes a change to the input field.

<ImageGrid
    images={[OnChangeImage]}
    gridImageProps={{ sm: 12 }}
    caption={[
        '1: The criteria for the password shall be displayed interactively while the user is changing their input.',
        '2: “Confirm Password” field should behave like a regular text field and do “verify input on blur”.',
    ]}
/>

### Verify Input on Page Change

On the rare occasion when you have to communicate with a remote server to verify the user input (rather than just doing client-side checks), and the there is a relatively small (less than 3) number of text fields, you may do the verification on page change. Some typical use case of this would be the login screen where the user credentials are checked, and discover new devices on a network.

<ImageGrid
    images={[OnPageChangeImage]}
    gridImageProps={{ sm: 12 }}
    caption={[
        'After the user clicks the submit button, the app waits for server response, and displays an error message.',
        '1: The assistive text will be replaced by the error message. ',
        '2: Use a circular progress indicator when waiting for responses from the server.',
    ]}
/>
